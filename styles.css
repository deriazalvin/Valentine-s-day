:root{
  --bg1:#ff9a9e;
  --bg2:#fecfef;
  --accent:#ff3b6b;
  --muted:#ffd7e2;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Poppins,system-ui,Arial;background:linear-gradient(135deg,var(--bg1),var(--bg2));}
.stage{height:100%;display:flex;align-items:center;justify-content:center;padding:40px}
.card{background:rgba(255,255,255,0.06);backdrop-filter:blur(6px);border-radius:20px;padding:48px 56px;text-align:center;box-shadow:0 10px 40px rgba(0,0,0,0.18);max-width:720px;width:100%;position:relative}
.title{font-family:'Great Vibes', serif;color:white;font-size:64px;margin:0 0 6px;text-shadow:0 6px 18px rgba(0,0,0,0.35)}
.subtitle{color:rgba(255,255,255,0.9);margin:0 0 24px;font-size:18px}
.buttons{display:flex;gap:20px;justify-content:center}
.btn{padding:14px 28px;border-radius:12px;border:0;font-weight:600;cursor:pointer;outline:none;font-size:18px;transform:translateZ(0);transition:transform 180ms ease, box-shadow 180ms ease}
.btn:active{transform:translateY(2px)}
.btn-yes{background:linear-gradient(180deg,#fff 0%,#ffe6f0 100%);color:var(--accent);box-shadow:0 8px 30px rgba(255,59,107,0.18)}
.btn-no{background:transparent;color:white;border:2px solid rgba(255,255,255,0.18);box-shadow:0 8px 30px rgba(0,0,0,0.14)}
.btn-no.moved{position:absolute}

/* confetti canvas */
#confetti{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:50}
#hearts{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:40}

/* celebration styles */
body.celebrate .card{transform:scale(1.02);box-shadow:0 20px 60px rgba(0,0,0,0.35)}

/* small floating hearts */
.floating-heart{position:absolute;width:28px;height:28px;background:radial-gradient(circle at 50% 30%, #fff8, #fff0 30%),linear-gradient(180deg,#ff5b82,#ff2f6a);transform:rotate(-45deg);border-radius:14px 14px 0 0;opacity:0.95}
.floating-heart:before,.floating-heart:after{content:"";position:absolute;background:inherit;border-radius:50%;width:28px;height:28px}
.floating-heart:before{top:-14px;left:0}
/* LETTER OVERLAY */

#letterOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.75);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  visibility:hidden;
  transition:all 1s ease;
  z-index:100;
}

#letterOverlay.show{
  opacity:1;
  visibility:visible;
}

.letter{
  background:white;
  color:#444;
  padding:50px;
  max-width:700px;
  width:90%;
  border-radius:20px;
  box-shadow:0 30px 80px rgba(0,0,0,0.4);
  transform:scale(0.7) translateY(40px);
  opacity:0;
  animation:letterAppear 1.5s forwards ease;
}

@keyframes letterAppear{
  to{
    transform:scale(1) translateY(0);
    opacity:1;
  }
}

.letter h2{
  font-family:'Great Vibes', serif;
  font-size:42px;
  text-align:center;
  margin-bottom:25px;
  color:#ff3b6b;
}

.letter p{
  line-height:1.8;
  margin-bottom:18px;
  font-size:17px;
}

.signature{
  text-align:right;
  margin-top:25px;
  font-family:'Great Vibes', serif;
  font-size:24px;
  color:#ff3b6b;
}

.closing{
  font-weight:600;
  text-align:center;
  font-size:18px;
}

.floating-heart:after{left:14px;top:0}

@media (max-width:520px){.title{font-size:40px}.card{padding:28px}}
